<div class="p-6 space-y-4 vt-page">
  <h1 class="text-2xl font-semibold">{{ 'ADMIN.DASHBOARD.TITLE' | translate }}</h1>
  <div class="flex items-center justify-between gap-3 flex-wrap">
    <div class="grid grid-cols-2 md:grid-cols-4 gap-3 flex-1 min-w-64">
    <div class="glass-card p-4">
      <div class="text-xs opacity-70">{{ 'ADMIN.DASHBOARD.CARD_USERS' | translate }}</div>
      <div class="text-2xl font-semibold">{{ totals()['users'] || 0 }}</div>
    </div>
    <div class="glass-card p-4">
      <div class="text-xs opacity-70">{{ 'ADMIN.DASHBOARD.CARD_SESSIONS' | translate }}</div>
      <div class="text-2xl font-semibold">{{ totals()['sessions'] || 0 }}</div>
    </div>
    <div class="glass-card p-4">
      <div class="text-xs opacity-70">{{ 'ADMIN.DASHBOARD.CARD_MESSAGES' | translate }}</div>
      <div class="text-2xl font-semibold">{{ totals()['messages'] || 0 }}</div>
    </div>
    <div class="glass-card p-4">
      <div class="text-xs opacity-70">{{ 'ADMIN.DASHBOARD.CARD_FILES' | translate }}</div>
      <div class="text-2xl font-semibold">{{ totals()['files'] || 0 }}</div>
    </div>
    </div>
    <div class="glass-card p-2 flex items-center gap-2">
      <button class="btn glass" [class.active]="days() === 7" (click)="setDays(7)">7d</button>
      <button class="btn glass" [class.active]="days() === 30" (click)="setDays(30)">30d</button>
      <button class="btn glass" [class.active]="days() === 90" (click)="setDays(90)">90d</button>
    </div>
  </div>

  <div class="glass-card p-4">
    <div class="grid grid-cols-1 lg:grid-cols-3 gap-4">
    <div class="lg:col-span-2 h-64">
        <div class="font-medium mb-2">{{ 'ADMIN.DASHBOARD.ACTIVITY_30D' | translate }}</div>
        @if (isBrowser()) {
      <canvas #activityCanvas class="block h-full w-full"></canvas>
        } @else {
          <div class="text-sm opacity-70">SSR</div>
        }
      </div>
      <div class="h-64">
        <div class="font-medium mb-2">{{ 'ADMIN.DASHBOARD.FILES_BY_TYPE' | translate }}</div>
        @if (isBrowser()) {
      <canvas #filesCanvas class="block h-full w-full"></canvas>
        } @else {
          <div class="text-sm opacity-70">SSR</div>
        }
      </div>
    </div>
  </div>
  <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 page-stagger">
    @for (s of sections; track s.route) {
  <a [routerLink]="[s.route]" class="block p-4 rounded-lg glass-card transition">
        <div class="flex items-center gap-3">
          <mat-icon>{{ s.icon }}</mat-icon>
          <div>
            <div class="font-medium">{{ s.title | translate }}</div>
            <div class="text-sm opacity-70">{{ s.desc | translate }}</div>
          </div>
        </div>
      </a>
    }
  </div>
</div>
