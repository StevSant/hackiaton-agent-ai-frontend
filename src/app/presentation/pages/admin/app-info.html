<div class="p-6 space-y-4">
  <h2 class="text-xl font-semibold">App Info</h2>
  @if (error()) {
    <div class="alert alert-error">{{ error() }}</div>
  }
  <form [formGroup]="form" (ngSubmit)="save()" class="grid grid-cols-1 md:grid-cols-2 gap-3">
    <div>
      <label class="text-xs" for="site_name">Site name</label>
      <input id="site_name" class="input input-bordered w-full" formControlName="site_name" />
    </div>
    <div>
      <label class="text-xs" for="site_icon">Site icon</label>
      <div class="flex items-center gap-2">
        <input id="site_icon" class="input input-bordered w-full" formControlName="site_icon" />
        <label class="btn btn-sm">
          <input type="file" accept="image/*" class="hidden" (change)="onPickIcon($event)" />
          {{ uploadingIcon() ? 'Subiendo…' : 'Subir' }}
        </label>
      </div>
      @if (form.value.site_icon) {
        <div class="mt-2">
          <img [src]="form.value.site_icon!" alt="icon preview" class="h-10 w-10 object-contain border rounded" />
        </div>
      }
    </div>
    <div>
      <label class="text-xs" for="site_logo">Site logo</label>
      <div class="flex items-center gap-2">
        <input id="site_logo" class="input input-bordered w-full" formControlName="site_logo" />
        <label class="btn btn-sm">
          <input type="file" accept="image/*" class="hidden" (change)="onPickLogo($event)" />
          {{ uploadingLogo() ? 'Subiendo…' : 'Subir' }}
        </label>
      </div>
      @if (form.value.site_logo) {
        <div class="mt-2">
          <img [src]="form.value.site_logo!" alt="logo preview" class="h-16 object-contain border rounded" />
        </div>
      }
    </div>
    <div class="md:col-span-2 flex items-center gap-2">
      <button class="btn btn-primary" type="submit" [disabled]="form.invalid || saving()">{{ saving() ? 'Guardando…' : 'Guardar' }}</button>
      @if (saved()) {
        <span class="text-success text-sm">Guardado</span>
      }
    </div>
  </form>
  @if (!loaded()) {
    <div class="text-sm opacity-70">Cargando…</div>
  }
</div>
