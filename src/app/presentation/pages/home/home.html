<!-- Public Home page -->
<div class="min-h-dvh overflow-x-hidden relative bg-home vt-page text-[15px]">
  <!-- Header fijo extraído a componente -->
  <app-header
    [(isOpen)]="open"
    [info]="info()"
    [isAdmin]="isAdmin()"
  ></app-header>

  <!-- Contenido principal -->
  <main id="main" class="mx-auto max-w-7xl px-5 py-8 md:py-12">
    <!-- Hero -->
    <section class="grid gap-6 mb-16 fade-in-up">
      <h1
        class="text-hero font-bold tracking-tight k-gradient-title leading-tight pb-4 drop-shadow-lg"
      >
        {{ "HOME.TITLE" | translate }}
      </h1>
      <p class="max-w-3xl text-body-large leading-relaxed">
        {{ "HOME.SUBTITLE" | translate }}
      </p>
    </section>

    <!-- Texto explicativo -->
    <section
      class="px-0 mb-16 grid grid-cols-1 lg:grid-cols-3 gap-6 md:gap-8 stagger-animation"
    >
      <figure
        class="glass-card p-6 min-h-[280px] lg:col-span-1 rounded-xl transition-all duration-300 hover:shadow-xl hover:shadow-primary/30 hover:-translate-y-2"
      >
        <div class="flex items-center justify-between mb-4">
          <h3 class="text-section-title font-semibold" id="totalTimeChartTitle">
            {{ "HOME.MKT.TOTAL_TIME_TITLE" | translate }}
          </h3>
          <mat-icon
            fontIcon="schedule"
            class="text-primary text-2xl transition-colors duration-300 hover:text-secondary"
            aria-hidden="true"
          ></mat-icon>
        </div>
        <p class="mb-4 text-sm leading-relaxed" id="totalTimeChartDesc">
          {{ "HOME.MKT.TOTAL_TIME_DESC" | translate }}
        </p>
        <app-lazy-chart
          class="mt-4 chart-container"
          [chartType]="'bar'"
          [data]="totalTimeChartData()"
          [options]="chartOptions()"
          [ariaLabelledby]="'totalTimeChartTitle totalTimeChartDesc'"
        ></app-lazy-chart>
        <figcaption class="sr-only">
          {{ "HOME.MKT.TOTAL_TIME_DESC" | translate }}
        </figcaption>
      </figure>

      <article
        class="glass-card p-6 lg:col-span-2 rounded-xl transition-all duration-300 hover:shadow-xl hover:shadow-primary/30 hover:-translate-y-2"
      >
        <div class="flex items-center gap-3 mb-4">
          <mat-icon
            fontIcon="target"
            class="text-primary text-2xl"
            aria-hidden="true"
          ></mat-icon>
          <h3 class="text-section-title font-semibold">
            {{ "HOME.MKT.RETO_TITLE" | translate }}
          </h3>
        </div>
        <div class="space-y-4 text-sm leading-relaxed">
          <p>{{ "HOME.MKT.OBJETIVO_INTRO" | translate }}</p>
          <p>{{ "HOME.MKT.IMPORTA_INTRO" | translate }}</p>
          <ul class="list-disc ml-6 space-y-2 marker:text-primary">
            <li>{{ "HOME.MKT.BULLET1" | translate }}</li>
            <li>{{ "HOME.MKT.BULLET2" | translate }}</li>
            <li>{{ "HOME.MKT.BULLET3" | translate }}</li>
            <li>{{ "HOME.MKT.BULLET4" | translate }}</li>
          </ul>
        </div>
      </article>
    </section>

    <section
      class="mb-16 grid grid-cols-1 lg:grid-cols-2 gap-6 md:gap-8 stagger-animation"
    >
      <article
        class="glass-card p-6 rounded-xl transition-all duration-300 hover:shadow-xl hover:shadow-primary/30 hover:-translate-y-2"
      >
        <div class="flex items-center gap-3 mb-4">
          <mat-icon
            fontIcon="psychology"
            class="text-primary text-2xl"
            aria-hidden="true"
          ></mat-icon>
          <h3 class="text-section-title font-semibold">
            {{ "HOME.MKT.IA_TITLE" | translate }}
          </h3>
        </div>
        <div class="space-y-3 text-sm leading-relaxed">
          <p>{{ "HOME.MKT.IA_P1" | translate }}</p>
          <p>{{ "HOME.MKT.IA_P2" | translate }}</p>
          <p>{{ "HOME.MKT.IA_P3" | translate }}</p>
          <p>{{ "HOME.MKT.IA_P4" | translate }}</p>
        </div>
      </article>

      <aside
        class="glass-card p-6 rounded-xl transition-all duration-300 hover:shadow-xl hover:shadow-primary/30 hover:-translate-y-2"
      >
        <div class="flex items-center gap-3 mb-4">
          <mat-icon
            fontIcon="assignment"
            class="text-primary text-2xl"
            aria-hidden="true"
          ></mat-icon>
          <h3 id="deliverablesTitle" class="text-section-title font-semibold">
            {{ "HOME.MKT.ENTREGABLES_TITLE" | translate }}
          </h3>
        </div>
        <ul class="list-disc ml-6 space-y-2 text-sm marker:text-primary">
          <li>{{ "HOME.MKT.ENT_ITEM1" | translate }}</li>
          <li>{{ "HOME.MKT.ENT_ITEM2" | translate }}</li>
          <li>{{ "HOME.MKT.ENT_ITEM3" | translate }}</li>
          <li>{{ "HOME.MKT.ENT_ITEM4" | translate }}</li>
        </ul>
        <p class="mt-6 text-xs bg-primary/10 p-3 rounded-lg">
          {{ "HOME.MKT.DATOS_LABEL" | translate }}
        </p>
      </aside>
    </section>

    <!-- KPIs -->
    <section class="mb-16" aria-labelledby="kpi-title">
      <h2 id="kpi-title" class="sr-only">
        {{ "HOME.KPI_SECTION" | translate }}
      </h2>
      <dl
        class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6 md:gap-8 stagger-animation"
      >
        <div
          class="glass-card p-6 rounded-xl transition-all duration-300 hover:shadow-xl hover:shadow-primary/30 hover:-translate-y-2 focus-within:ring-2 focus-within:ring-primary"
        >
          <div class="flex items-center justify-between mb-3">
            <dt class="text-sm font-medium">
              {{ "HOME.KPI_SPEED" | translate }}
            </dt>
            <mat-icon
              fontIcon="bolt"
              class="text-primary text-xl transition-colors duration-300 hover:text-secondary"
              aria-hidden="true"
            ></mat-icon>
          </div>
          <dd
            class="text-3xl font-bold mb-2"
            [attr.aria-label]="'HOME.KPI_SPEED' | translate"
          >
            {{ kpiSpeedDisplay() }}
          </dd>
          <p class="text-xs leading-relaxed">
            {{ "HOME.KPI_SPEED_HINT" | translate }}
          </p>
        </div>

        <div
          class="glass-card p-6 rounded-xl transition-all duration-300 hover:shadow-xl hover:shadow-primary/30 hover:-translate-y-2 focus-within:ring-2 focus-within:ring-primary"
        >
          <div class="flex items-center justify-between mb-3">
            <dt class="text-sm font-medium">
              {{ "HOME.KPI_APPROVAL" | translate }}
            </dt>
            <mat-icon
              fontIcon="thumb_up"
              class="text-primary text-xl transition-colors duration-300 hover:text-secondary"
              aria-hidden="true"
            ></mat-icon>
          </div>
          <dd class="text-3xl font-bold mb-2">
            {{ kpiApprovalDisplay() }}
          </dd>
          <p class="text-xs leading-relaxed">
            {{ "HOME.KPI_APPROVAL_HINT" | translate }}
          </p>
        </div>

        <div
          class="glass-card p-6 rounded-xl transition-all duration-300 hover:shadow-xl hover:shadow-primary/30 hover:-translate-y-2 focus-within:ring-2 focus-within:ring-primary"
        >
          <div class="flex items-center justify-between mb-3">
            <dt class="text-sm font-medium">
              {{ "HOME.KPI_OBJECTIVITY" | translate }}
            </dt>
            <mat-icon
              fontIcon="insights"
              class="text-primary text-xl transition-colors duration-300 hover:text-secondary"
              aria-hidden="true"
            ></mat-icon>
          </div>
          <dd class="text-3xl font-bold mb-2">
            {{ kpiObjectivityDisplay() }}
          </dd>
          <p class="text-xs leading-relaxed">
            {{ "HOME.KPI_OBJECTIVITY_HINT" | translate }}
          </p>
        </div>

        <div
          class="glass-card p-6 rounded-xl transition-all duration-300 hover:shadow-xl hover:shadow-primary/30 hover:-translate-y-2 focus-within:ring-2 focus-within:ring-primary"
        >
          <div class="flex items-center justify-between mb-3">
            <dt class="text-sm font-medium">
              {{ "HOME.KPI_TIME" | translate }}
            </dt>
            <mat-icon
              fontIcon="timer"
              class="text-primary text-xl transition-colors duration-300 hover:text-secondary"
              aria-hidden="true"
            ></mat-icon>
          </div>
          <dd class="text-3xl font-bold mb-2">
            {{ kpiTimeDisplay() }}
          </dd>
          <p class="text-xs leading-relaxed">
            {{ "HOME.KPI_TIME_HINT" | translate }}
          </p>
        </div>
      </dl>
    </section>
  </main>

  <!-- Footer -->
  <footer class="footer-section">
    <div class="footer-content">
      <p class="footer-copyright">
        © {{ info()?.site_name || ("SHELL.APP_TITLE" | translate) }} ·
        {{ today | date: "yyyy" }}
      </p>

      <div class="team-members">
        @for (member of teamMembers; track $index) {
          <span class="team-member-badge">
            {{ member }}
          </span>
        }
      </div>
    </div>
  </footer>

  <!-- Menú flotante -->
  <div class="fixed bottom-6 right-6 z-50">
    <app-profile-menu
      [compact]="true"
      [attr.aria-label]="'COMMON.PROFILE_MENU' | translate"
    ></app-profile-menu>
  </div>
</div>
