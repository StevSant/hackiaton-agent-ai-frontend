<div class="flex relative flex-1 min-h-0">
  <!-- Sidebar placeholder - puedes agregar tu sidebar aquÃ­ -->

  <div
    class="chat-container flex-1 min-h-0 w-full pt-2 px-2 sm:pt-4 sm:px-4 md:pt-8 md:px-8 flex flex-col gap-2 sm:gap-4 overflow-hidden"
  >
  <!-- Header action buttons moved to Shell topbar -->
    <!-- Files button moved to shell header to give more space to chat -->
    <div class="flex flex-col flex-1 min-h-0">
      <app-chat-messages-list
        class="flex-1 min-h-0 flex flex-col"
        [messages]="messages()"
        [isSending]="isSending()"
        [toolRunning]="toolRunning()"
      ></app-chat-messages-list>
      <app-chat-composer
        [form]="msgForm"
        [isSending]="isSending()"
        [isUploadingFiles]="isUploadingFiles"
        [filesCount]="uploadedFiles.length + filesToUpload.length"
        [uploadedFiles]="uploadedFiles"
        (send)="sendMessage()"
        (cancel)="cancelSending()"
        (filesSelected)="onFilesSelected($event)"
        (filesDropped)="onFilesDropped($event)"
        (removeUploadedFile)="removeUploadedFile($event)"
        (keydown)="handleKeyDown($event)"
        [allowUpload]="!!selectedSessionId && messages().length > 0"
        (composerInput)="handleComposerInput($event)"
      ></app-chat-composer>
    </div>
    <app-session-files-modal
      *ngIf="showFilesModal && selectedSessionId"
      [sessionId]="selectedSessionId!"
      (closed)="closeSessionFiles()"
    ></app-session-files-modal>
    <app-session-companies-modal
      *ngIf="showCompaniesModal && selectedSessionId"
      [sessionId]="selectedSessionId!"
      (closed)="closeSessionCompanies()"
    ></app-session-companies-modal>
    <app-session-companies-charts-modal
      *ngIf="showChartsModal && selectedSessionId"
      [sessionId]="selectedSessionId!"
  (closed)="closeSessionCharts()"
    ></app-session-companies-charts-modal>
  </div>
</div>
